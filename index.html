<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>내게 맞는 주택 분양 찾기 | 인터랙티브 가이드</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Calm Harmony -->
    <!-- Application Structure Plan: The application is designed as a user-centric decision-making tool, moving beyond the report's linear structure. It consists of three main interactive sections: 1. A "Personalized Guide" quiz that asks users about their priorities (price, quality, stability) and life stage to provide immediate, tailored recommendations. 2. A "Comparative Dashboard" using a card-based layout with radar charts for at-a-glance comparison of all housing types across key metrics. 3. A "Dynamic Detail View" that presents in-depth information from the report when a user selects an option. This task-oriented architecture transforms static information into an engaging, non-linear exploratory experience, empowering users to find relevant information quickly and efficiently. -->
    <!-- Visualization & Content Choices: Data from the report is structured into a JS object array. The core interaction goal is comparison and personalized guidance. For this, a radar chart (via Chart.js on Canvas) is chosen for the dashboard cards to visually represent multi-dimensional data (Price, Quality, Risk) for each housing type, enabling rapid comparison. The quiz interaction uses simple button clicks to filter this data array and dynamically display results. Detailed text content is presented in dynamically shown/hidden sections to avoid information overload. This approach ensures all visuals are interactive, support the application's goal of simplifying complex decisions, and adhere to the NO SVG/Mermaid constraint. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 250px;
            max-height: 300px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 300px;
            }
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .active-nav {
            color: #1d4ed8;
            border-bottom-color: #1d4ed8;
        }
    </style>
</head>
<body class="bg-stone-50 text-stone-800">

    <header class="bg-white/80 backdrop-blur-lg sticky top-0 z-50 shadow-sm">
        <nav class="container mx-auto px-4 py-3 flex justify-between items-center">
            <h1 class="text-xl md:text-2xl font-bold text-blue-800">🏠 내게 맞는 분양 찾기</h1>
            <div class="hidden md:flex space-x-6">
                <a href="#guide" class="text-stone-600 hover:text-blue-700 font-medium pb-1 border-b-2 border-transparent transition-all">맞춤 가이드</a>
                <a href="#dashboard" class="text-stone-600 hover:text-blue-700 font-medium pb-1 border-b-2 border-transparent transition-all">한눈에 비교</a>
                <a href="#details" class="text-stone-600 hover:text-blue-700 font-medium pb-1 border-b-2 border-transparent transition-all">상세 정보</a>
            </div>
        </nav>
    </header>

    <main class="container mx-auto p-4 md:p-8">

        <section id="guide" class="py-12 md:py-16 text-center">
            <h2 class="text-3xl md:text-4xl font-bold mb-4">어떤 집을 찾고 계신가요?</h2>
            <p class="text-stone-600 max-w-2xl mx-auto mb-10">세 가지 간단한 질문에 답하고 나에게 가장 적합한 주택 분양 유형을 추천받으세요.</p>

            <div class="bg-white p-6 md:p-8 rounded-2xl shadow-lg max-w-4xl mx-auto">
                <div id="quiz-container">
                    <div id="question1" class="quiz-step">
                        <h3 class="text-xl md:text-2xl font-semibold mb-6">1. 가장 중요하게 생각하는 가치는 무엇인가요?</h3>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <button data-priority="price" class="quiz-option p-4 bg-stone-100 hover:bg-blue-100 rounded-lg text-lg font-medium transition-all transform hover:scale-105">💰 저렴한 가격</button>
                            <button data-priority="quality" class="quiz-option p-4 bg-stone-100 hover:bg-blue-100 rounded-lg text-lg font-medium transition-all transform hover:scale-105">✨ 높은 상품성</button>
                            <button data-priority="stability" class="quiz-option p-4 bg-stone-100 hover:bg-blue-100 rounded-lg text-lg font-medium transition-all transform hover:scale-105">🛡️ 사업 안정성</button>
                        </div>
                    </div>
                     <div id="question2" class="quiz-step hidden">
                        <h3 class="text-xl md:text-2xl font-semibold mb-6">2. 청약통장을 보유하고 있나요?</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <button data-subscription="yes" class="quiz-option p-4 bg-stone-100 hover:bg-blue-100 rounded-lg text-lg font-medium transition-all transform hover:scale-105">✅ 예, 보유하고 있습니다</button>
                            <button data-subscription="no" class="quiz-option p-4 bg-stone-100 hover:bg-blue-100 rounded-lg text-lg font-medium transition-all transform hover:scale-105">❌ 아니요, 없거나 사용하고 싶지 않습니다</button>
                        </div>
                    </div>
                    <div id="question3" class="quiz-step hidden">
                        <h3 class="text-xl md:text-2xl font-semibold mb-6">3. 현재 가구 상황은 어떻게 되시나요?</h3>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <button data-household="youth" class="quiz-option p-4 bg-stone-100 hover:bg-blue-100 rounded-lg text-lg font-medium transition-all transform hover:scale-105">👤 청년/1인 가구</button>
                            <button data-household="newlywed" class="quiz-option p-4 bg-stone-100 hover:bg-blue-100 rounded-lg text-lg font-medium transition-all transform hover:scale-105">💑 신혼부부/젊은 가구</button>
                            <button data-household="middle-aged" class="quiz-option p-4 bg-stone-100 hover:bg-blue-100 rounded-lg text-lg font-medium transition-all transform hover:scale-105">👨‍👩‍👧‍👦 중장년/다자녀 가구</button>
                        </div>
                    </div>
                </div>

                <div id="quiz-result" class="hidden mt-8 text-left">
                    <h3 class="text-2xl font-bold mb-4 text-center text-blue-800">🎉 당신을 위한 추천 분양 유형입니다!</h3>
                    <div id="result-cards" class="grid grid-cols-1 md:grid-cols-2 gap-6"></div>
                    <div class="text-center mt-6">
                        <button id="reset-quiz-btn" class="bg-blue-600 text-white font-bold py-2 px-6 rounded-full hover:bg-blue-700 transition-all">다시 시작하기</button>
                    </div>
                </div>
            </div>
        </section>

        <hr class="my-12 border-stone-200">

        <section id="dashboard" class="py-12 md:py-16">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-4">분양 유형 한눈에 비교하기</h2>
            <p class="text-stone-600 max-w-3xl mx-auto text-center mb-12">각 분양 방식의 특징을 차트를 통해 직관적으로 비교하고, 나에게 맞는 최적의 선택지를 찾아보세요. 카드를 클릭하면 상세 정보를 확인할 수 있습니다.</p>
            <div id="dashboard-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            </div>
        </section>

        <hr class="my-12 border-stone-200">

        <section id="details" class="py-12 md:py-16">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-4">분양 방식 상세 정보</h2>
            <p class="text-stone-600 max-w-3xl mx-auto text-center mb-12">각 분양 방식의 정의, 장점, 그리고 주의해야 할 점을 자세히 알아보세요.</p>
            <div id="details-container" class="space-y-8">
                <p class="text-center text-stone-500 text-lg bg-white p-8 rounded-2xl shadow-md">위 '한눈에 비교' 섹션에서 카드를 클릭하거나 '맞춤 가이드'를 통해 추천받으면 여기에 상세 정보가 표시됩니다.</p>
            </div>
        </section>

    </main>

    <footer class="bg-stone-800 text-white mt-16">
        <div class="container mx-auto px-4 py-6 text-center">
            <p>&copy; 2025 주택 분양 인터랙티브 가이드. All Rights Reserved.</p>
            <p class="text-sm text-stone-400 mt-2">본 콘텐츠는 제공된 보고서를 기반으로 제작되었으며, 정보 제공을 목적으로 합니다.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const housingData = [
                {
                    id: 'public',
                    title: '공공분양',
                    provider: '공공',
                    subscription: true,
                    selection: '순위 순차제',
                    priceDesc: '시세의 80% 수준',
                    summary: '정부 주도로 공급되어 가격이 저렴하지만, 소득/자산 등 자격 요건이 까다롭습니다.',
                    tags: ['price', 'stability', 'youth', 'newlywed'],
                    scores: { price: 5, quality: 3, stability: 5, location: 3, investment: 3 },
                    pros: ['시세 대비 저렴한 분양가', '분양가상한제 적용으로 가격 안정성 높음', '정부 주도 사업으로 안정적'],
                    cons: ['엄격한 소득 및 자산 기준 요구', '까다로운 청약 자격 요건 (무주택 등)', '중소형 평형 위주 공급'],
                    strategy: '청약통장 납입액이 많고 소득/자산 기준을 충족하는 무주택 실수요자에게 가장 유리합니다. 특히 생애최초, 신혼부부 특별공급을 노리는 것이 좋습니다.'
                },
                {
                    id: 'private',
                    title: '민간분양',
                    provider: '민간',
                    subscription: true,
                    selection: '가점제/추첨제',
                    priceDesc: '시세 기반',
                    summary: '브랜드 아파트로 상품성이 높지만, 분양가가 높고 청약 가점 경쟁이 치열합니다.',
                    tags: ['quality', 'middle-aged', 'location', 'investment'],
                    scores: { price: 2, quality: 5, stability: 4, location: 5, investment: 5 },
                    pros: ['높은 상품성 (브랜드, 디자인, 커뮤니티)', '다양한 평형 선택 가능', '입지 선택의 폭이 넓음'],
                    cons: ['높은 분양가 부담', '치열한 청약 가점 경쟁', '시장 상황에 따른 가격 변동성'],
                    strategy: '무주택 기간이 길고 부양가족이 많아 청약 가점이 높은 중장년층에게 절대적으로 유리합니다. 가점이 낮다면 추첨제 물량을 노려야 합니다.'
                },
                {
                    id: 'cooperative',
                    title: '민간참여 공공분양',
                    provider: '공공+민간',
                    subscription: true,
                    selection: '순위/가점/추첨',
                    priceDesc: '공공+민간 협의',
                    summary: '공공의 저렴함과 민간의 품질을 결합했지만, 물량이 적고 경쟁이 치열할 수 있습니다.',
                    tags: ['price', 'quality', 'stability', 'newlywed', 'location', 'investment'],
                    scores: { price: 4, quality: 4, stability: 5, location: 4, investment: 4 },
                    pros: ['공공분양의 가격 경쟁력과 민간분양의 상품성을 동시에 누림', '유명 브랜드 아파트를 저렴하게 분양 가능', '안정적인 사업 추진'],
                    cons: ['공공분양의 자격 요건 충족 필요', '공급 물량이 많지 않음', '인기 지역의 경우 높은 경쟁률'],
                    strategy: '공공분양 자격은 되지만 브랜드 아파트를 선호하는 수요자에게 최적의 선택지입니다. 두 가지 장점을 모두 원한다면 적극적으로 노려볼 만합니다.'
                },
                {
                    id: 'leftover',
                    title: '무순위 청약 (줍줍)',
                    provider: '없음',
                    subscription: false,
                    selection: '무작위 추첨',
                    priceDesc: '시세 대비 저렴',
                    summary: '청약통장 없이 도전 가능하지만, 물량이 비정기적이고 정책 변화에 민감합니다.',
                    tags: ['price', 'investment'],
                    scores: { price: 4, quality: 3, stability: 2, location: 3, investment: 4 },
                    pros: ['청약통장 불필요', '청약 가점, 순위와 무관', '시세보다 저렴한 가격에 내 집 마련 가능'],
                    cons: ['물량이 비정기적으로 나옴', '잦은 정책 변경으로 인한 불확실성', '경쟁률 예측 불가'],
                    strategy: "청약 가점이 낮지만 무주택 요건을 갖춘 수요자에게 '기회'가 될 수 있습니다. 항상 최신 정책을 확인하고 공고를 주시해야 합니다."
                },
                {
                    id: 'association',
                    title: '지역주택조합',
                    provider: '조합',
                    subscription: false,
                    selection: '조합원 자격',
                    priceDesc: '원가 기반',
                    summary: '분양가가 매우 저렴하지만, 사업 지연, 추가 분담금 등 리스크가 매우 높습니다.',
                    tags: ['price'],
                    scores: { price: 5, quality: 2, stability: 1, location: 2, investment: 1 },
                    pros: ['일반 분양 대비 매우 저렴한 가격', '청약통장 불필요', '원하는 동/호수 선점 가능성'],
                    cons: ['사업 지연 또는 무산 리스크', '높은 추가 분담금 발생 가능성', '조합 운영의 불투명성 및 비리 위험'],
                    strategy: '매우 높은 위험을 감수할 수 있는 경우에만 신중하게 접근해야 합니다. 조합의 토지 확보율, 자금 관리 투명성 등을 철저히 확인해야 합니다.'
                },
                {
                    id: 'land-leasehold',
                    title: '토지임대부 분양',
                    provider: '공공',
                    subscription: true,
                    selection: '순위+추첨',
                    priceDesc: '건물 가격만',
                    summary: '초기 분양가가 매우 저렴한 대신, 매월 토지 임대료를 납부해야 합니다.',
                    tags: ['price', 'youth'],
                    scores: { price: 5, quality: 3, stability: 4, location: 3, investment: 3 },
                    pros: ['"반값 아파트"로 불릴 만큼 매우 저렴한 초기 분양가', '초기 자금 부담 최소화', '공공 주도 사업으로 안정성 확보'],
                    cons: ['매월 토지 임대료 발생', '토지 소유권 없음', '시세차익 제한 및 공급 물량 부족'],
                    strategy: '초기 자본은 부족하지만 안정적인 월 소득이 있는 청년, 신혼부부에게 적합합니다. 장기적인 현금 흐름을 고려해야 합니다.'
                }
            ];

            const quizState = {};
            let currentQuestion = 1;

            const quizContainer = document.getElementById('quiz-container');
            const quizResultContainer = document.getElementById('quiz-result');
            const resultCardsContainer = document.getElementById('result-cards');
            const resetQuizBtn = document.getElementById('reset-quiz-btn');
            const dashboardGrid = document.getElementById('dashboard-grid');
            const detailsContainer = document.getElementById('details-container');

            function createRadarChart(canvasId, data) {
                const ctx = document.getElementById(canvasId).getContext('2d');
                new Chart(ctx, {
                    type: 'radar',
                    data: {
                        labels: ['가격경쟁력', '상품성', '사업안정성'],
                        datasets: [{
                            label: '유형 분석',
                            data: [data.price, data.quality, data.stability],
                            backgroundColor: 'rgba(59, 130, 246, 0.2)',
                            borderColor: 'rgba(59, 130, 246, 1)',
                            borderWidth: 2,
                            pointBackgroundColor: 'rgba(59, 130, 246, 1)',
                            pointBorderColor: '#fff',
                            pointHoverBackgroundColor: '#fff',
                            pointHoverBorderColor: 'rgba(59, 130, 246, 1)'
                        }]
                    },
                    options: {
                        maintainAspectRatio: false,
                        scales: {
                            r: {
                                angleLines: {
                                    display: true,
                                    color: 'rgba(0, 0, 0, 0.1)'
                                },
                                suggestedMin: 0,
                                suggestedMax: 5,
                                pointLabels: {
                                    font: {
                                        size: 12,
                                        weight: '500'
                                    }
                                },
                                ticks: {
                                    display: false,
                                    stepSize: 1
                                }
                            }
                        },
                        plugins: {
                            legend: {
                                display: false
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        let label = context.dataset.label || '';
                                        if (label) {
                                            label += ': ';
                                        }
                                        if (context.parsed.r !== null) {
                                            label += context.parsed.r + '점';
                                        }
                                        return label;
                                    }
                                }
                            }
                        }
                    }
                });
            }

            function renderDashboard() {
                dashboardGrid.innerHTML = '';
                housingData.forEach(item => {
                    const card = document.createElement('div');
                    card.className = 'bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all cursor-pointer';
                    card.dataset.id = item.id;
                    card.innerHTML = `
                        <h3 class="text-xl font-bold mb-2 text-blue-800">${item.title}</h3>
                        <p class="text-stone-600 mb-4 h-12">${item.summary}</p>
                        <div class="chart-container">
                            <canvas id="chart-${item.id}"></canvas>
                        </div>
                    `;
                    dashboardGrid.appendChild(card);
                    createRadarChart(`chart-${item.id}`, item.scores);
                    
                    card.addEventListener('click', () => {
                        renderDetails(item.id);
                        document.getElementById('details').scrollIntoView({ behavior: 'smooth' });
                    });
                });
            }

            function renderDetails(id) {
                const item = housingData.find(d => d.id === id);
                if (!item) return;

                detailsContainer.innerHTML = `
                    <div id="detail-${item.id}" class="bg-white p-8 rounded-2xl shadow-lg fade-in">
                        <h3 class="text-3xl font-bold mb-3 text-blue-900">${item.title}</h3>
                        <div class="flex flex-wrap gap-x-6 gap-y-2 text-sm text-stone-500 mb-6">
                            <span><strong>사업주체:</strong> ${item.provider}</span>
                            <span><strong>청약통장:</strong> ${item.subscription ? '필수' : '불필요'}</span>
                            <span><strong>선정방식:</strong> ${item.selection}</span>
                            <span><strong>분양가:</strong> ${item.priceDesc}</span>
                        </div>
                        <p class="text-lg text-stone-700 mb-8">${item.summary}</p>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
                            <div>
                                <h4 class="text-xl font-semibold mb-3 text-green-700">👍 장점</h4>
                                <ul class="list-disc list-inside space-y-2 text-stone-600">
                                    ${item.pros.map(p => `<li>${p}</li>`).join('')}
                                </ul>
                            </div>
                            <div>
                                <h4 class="text-xl font-semibold mb-3 text-red-700">👎 단점 및 리스크</h4>
                                <ul class="list-disc list-inside space-y-2 text-stone-600">
                                    ${item.cons.map(c => `<li>${c}</li>`).join('')}
                                </ul>
                            </div>
                        </div>

                        <div>
                             <h4 class="text-xl font-semibold mb-3 text-indigo-700">🎯 추천 전략</h4>
                             <p class="bg-indigo-50 p-4 rounded-lg text-stone-800">${item.strategy}</p>
                        </div>
                    </div>
                `;
            }
            
            function showQuizResults() {
                quizContainer.classList.add('hidden');
                
                const filteredData = housingData.map(item => {
                    let score = 0;
                    if (item.tags.includes(quizState.priority)) score += 3;
                    if (item.subscription === (quizState.subscription === 'yes')) score += 2;
                    if (item.tags.includes(quizState.household)) score += 1;
                    return { ...item, score };
                }).filter(item => item.score > 2)
                  .sort((a, b) => b.score - a.score);

                const results = filteredData.length > 0 ? filteredData : housingData.slice(0, 3);

                resultCardsContainer.innerHTML = '';
                results.slice(0, 3).forEach(item => {
                    const card = document.createElement('div');
                    card.className = 'bg-stone-50 p-6 rounded-xl border border-stone-200 hover:border-blue-400 transition-all cursor-pointer';
                    card.dataset.id = item.id;
                    card.innerHTML = `
                        <h4 class="text-xl font-bold text-blue-800">${item.title}</h4>
                        <p class="text-stone-600 mt-2">${item.summary}</p>
                    `;
                    resultCardsContainer.appendChild(card);
                    card.addEventListener('click', () => {
                        renderDetails(item.id);
                        document.getElementById('details').scrollIntoView({ behavior: 'smooth' });
                    });
                });
                
                quizResultContainer.classList.remove('hidden');
                quizResultContainer.classList.add('fade-in');
            }

            quizContainer.addEventListener('click', (e) => {
                if (!e.target.matches('.quiz-option')) return;

                const step = e.target.closest('.quiz-step');
                const nextStep = step.nextElementSibling;
                
                if (currentQuestion === 1) quizState.priority = e.target.dataset.priority;
                if (currentQuestion === 2) quizState.subscription = e.target.dataset.subscription;
                if (currentQuestion === 3) quizState.household = e.target.dataset.household;

                step.classList.add('hidden');

                if (nextStep && nextStep.matches('.quiz-step')) {
                    nextStep.classList.remove('hidden');
                    nextStep.classList.add('fade-in');
                    currentQuestion++;
                } else {
                    showQuizResults();
                }
            });

            resetQuizBtn.addEventListener('click', () => {
                quizResultContainer.classList.add('hidden');
                quizContainer.classList.remove('hidden');
                document.querySelectorAll('.quiz-step').forEach((step, index) => {
                    step.classList.toggle('hidden', index !== 0);
                });
                currentQuestion = 1;
                Object.keys(quizState).forEach(key => delete quizState[key]);
            });

            const navLinks = document.querySelectorAll('header nav a');
            const sections = document.querySelectorAll('main section');

            window.addEventListener('scroll', () => {
                let current = '';
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    if (pageYOffset >= sectionTop - 60) {
                        current = section.getAttribute('id');
                    }
                });

                navLinks.forEach(link => {
                    link.classList.remove('active-nav');
                    if (link.getAttribute('href') === `#${current}`) {
                        link.classList.add('active-nav');
                    }
                });
            });

            renderDashboard();
        });
    </script>
</body>
</html>
